require=function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var r="function"==typeof require&&require;if(!a&&r)return r(s,!0);if(c)return c(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return i(n?n:e)},p,p.exports,e,t,n,o)}return n[s].exports}for(var c="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({Animate:[function(e,t,n){"use strict";cc._RFpush(t,"1a1c8a0F8tCWYLr6oNI3Tt/","Animate"),cc.Class({"extends":cc.Component,properties:{duration:.1,frames:[cc.SpriteFrame],playing:!1,repeat:!1,autoRemove:!1},onLoad:function(){this.currentTime=0,this.currentIndex=0},play:function(){this.playing=!0},stop:function(){this.playing=!1,this.currentTime=0,this.currentIndex=0},update:function(e){this.playing&&(this.currentTime+=e)},lateUpdate:function(e){if(this.currentTime>=this.duration){if(this.currentIndex>=this.frames.length-1){if(this.repeat)this.currentIndex=0;else if(this.playing=!1,this.autoRemove)return void this.node.destroy()}else this.currentIndex++;this._changeNextTexture(),this.currentTime=0}},_changeNextTexture:function(){var e=this.getComponent(cc.Sprite);e.spriteFrame=this.frames[this.currentIndex],this.node.width=e.spriteFrame.getRect().width,this.node.height=e.spriteFrame.getRect().height}}),cc._RFpop()},{}],CollisionDetect:[function(e,t,n){"use strict";cc._RFpush(t,"84595WXBAJK5IxWn0FPNV0v","CollisionDetect"),cc.Class({"extends":cc.Component,properties:{showDebugDraw:!0,openCollision:!0},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=this.openCollision}}),cc._RFpop()},{}],HeadPic:[function(e,t,n){"use strict";cc._RFpush(t,"0ba798adQ5GW7IEIZ2QjFHz","HeadPic"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){if(window.cq_sk_headimgurl){var e=this.getComponent(cc.Sprite);cc.loader.load({id:window.cq_sk_headimgurl,type:"jpg"},function(t,n){cc.log("Should load a texture from RESTful API by specify the type: "+(n instanceof cc.Texture2D)),e.spriteFrame.setTexture(n)})}}}),cc._RFpop()},{}],HelloWorld:[function(e,t,n){"use strict";cc._RFpush(t,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({"extends":cc.Component,properties:{label:{"default":null,type:cc.Label},text:"Hello, World!"},onLoad:function(){this.label.string=this.text},update:function(e){}}),cc._RFpop()},{}],Login:[function(e,t,n){"use strict";cc._RFpush(t,"ce094/WcWFEIKmhDjiiPDX9","Login"),cc.Class({"extends":cc.Component,properties:{uid:"",Node:cc.Node,debug:!1},setCookie:function(e,t){var n=30,o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()},onLoad:function(){var e=this;return window.cq_sk_currentscore=0,window.cq_sk_currentmoney=0,window.moneyCount=0,window.player_died=!1,void(e.Node.active=!0)},jumpWX:function(){var e=cc.loader.getXMLHttpRequest();e.open("POST","http://game.cqqigao.com/index.php?m=author&a=getopenid",!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(e.setRequestHeader("Accept-Charset","utf-8"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(e.overrideMimeType&&e.overrideMimeType("text/plain; charset=utf-8"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=e.response;t&&""!=t?window.location.href=t:document.write("跳转微信授权失败, url = ",t)}},e.send(null)},buyHaveTime:function(){if(window.cq_sk_score+window.cq_sk_currentscore<100){var e=document.querySelector("#Cocos2dGameContainer"),t=document.createElement("iframe");t.src="http://game.cqqigao.com/index.php?m=article&a=coins&aid=10",t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.position="absolute",t.style.left="0",t.style.top="0",e.appendChild(t)}else{var n=cc.loader.getXMLHttpRequest();n.open("GET","http://game.cqqigao.com/index.php?m=api&a=usepoint&uid="+window.cq_sk_uid,!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(n.setRequestHeader("Accept-Charset","utf-8"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(n.overrideMimeType&&n.overrideMimeType("text/plain; charset=utf-8"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status)try{var e=JSON.parse(n.response);1==e.result&&cc.director.preloadScene("game",function(){cc.director.loadScene("game")})}catch(t){console.log("net error: ",t.stack)}},n.send(null)}},cancelBuy:function(){cc.find("Canvas/tipsBg").active=!1},getHaveTime:function(e){var t=cc.loader.getXMLHttpRequest();t.open("GET","http://game.cqqigao.com/index.php?m=api&a=havetimes&uid="+window.cq_sk_uid,!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(t.setRequestHeader("Accept-Charset","utf-8"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(t.overrideMimeType&&t.overrideMimeType("text/plain; charset=utf-8"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status)try{if(t.response&&"null"!=t.response){var n=JSON.parse(t.response);e(null,n)}else e(null,null)}catch(o){console.log("net error: ",o.stack)}},t.send(null)},getUserInfo:function(e){var t=this;t.startGettingUserInfo=!0,t.gettingUserInfoDuration=0;var n=cc.loader.getXMLHttpRequest();n.open("GET","http://game.cqqigao.com/index.php?m=api&a=userinfobyopenid&openid="+window.cq_sk_openid,!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(n.setRequestHeader("Accept-Charset","utf-8"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(n.overrideMimeType&&n.overrideMimeType("text/plain; charset=utf-8"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),n.onreadystatechange=function(){if(4==n.readyState&&200==n.status)if(t.startGettingUserInfo=!1,t.gettingUserInfoDuration=0,n.response&&""!=n.response){var o=JSON.parse(n.response);e(null,o)}else document.write("获取用户信息失败")},n.send(null)},update:function(e){this.startGettingUserInfo&&(this.gettingUserInfoDuration+=e,this.gettingUserInfoDuration>30&&document.write("获取用户信息超时，请与公众号管理员联系"))}}),cc._RFpop()},{}],Name:[function(e,t,n){"use strict";cc._RFpush(t,"dc98bUmwahN0rAxqULo0JG0","Name"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.getComponent(cc.Label).string=window.cq_sk_nickname||"Your Name"}}),cc._RFpop()},{}],Pause:[function(e,t,n){"use strict";cc._RFpush(t,"73250ed6B9NSJ4MKusXqQnP","Pause"),cc.Class({"extends":cc.Component,properties:{checked:cc.SpriteFrame,notchecked:cc.SpriteFrame,isChecked:!0},onLoad:function(){var e=this;e.boxCollider=e.getComponent(cc.BoxCollider),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,n){var o=t.getLocation();return cc.Intersection.pointInPolygon(o,e.boxCollider.world.points)&&e.checkClick(),!0},onTouchEnded:function(e,t){return!0}},this.node)},checkClick:function(){this.isChecked=!this.isChecked,this.isChecked?(this.getComponent(cc.Sprite).spriteFrame=this.checked,cc.director.resume(),cc.find("Canvas/bgm").getComponent(cc.AudioSource).resume(),this.getComponent(cc.AudioSource).play()):(this.getComponent(cc.Sprite).spriteFrame=this.notchecked,cc.director.pause(),cc.find("Canvas/bgm").getComponent(cc.AudioSource).pause(),this.getComponent(cc.AudioSource).play())}}),cc._RFpop()},{}],PlayGame:[function(e,t,n){"use strict";cc._RFpush(t,"feb4cAae/lNQbGHpt/HkmB7","PlayGame"),cc.Class({"extends":cc.Component,properties:{tips:cc.Node},onLoad:function(){},playGame:function(){this.getComponent(cc.AudioSource).play(),cc.director.preloadScene("game",function(){cc.director.loadScene("game")})}}),cc._RFpop()},{}],Player:[function(e,t,n){"use strict";cc._RFpush(t,"be629zIJEZDP5bp4Mr9ct0r","Player"),cc.Class({"extends":cc.Component,properties:{duration:.1,frames:[cc.SpriteFrame],down_frames:[cc.SpriteFrame],playing:!1,downPlaying:!1,bStart:!1},onLoad:function(){this.currentTime=0,this.currentIndex=0,this.currentState="stand",this.upFlag=!0,this.upSpeed=5.5,this.oldUpSpeed=this.upSpeed,this.downSpeed=10,this.oldDownSpeed=this.downSpeed,this.jumpDownDuration=.2,this.oldJumpDownDuration=.2,this.jumpDownSpeed=1500,this.forwardSpeed=25,this.oldforwardSpeed=this.forwardSpeed,this.recieveUp=!0,this.recieveDown=!0,this.actionState="stand",this._changeNextTexture()},play:function(e){if(this.playing!=e){this.playing=e,this.downPlaying=!e,this.currentTime=0,this.currentIndex=0,this.currentState="stand";var t=this.getComponent(cc.Sprite);t.spriteFrame=this.frames[this.currentIndex];var n=this.getComponent(cc.BoxCollider);n.offset=cc.p(0,95),n.size=new cc.size(161,190)}},downPlay:function(e){if(this.downPlaying!=e){this.downPlaying=e,this.playing=!e,this.currentTime=0,this.currentIndex=0;var t=this.getComponent(cc.Sprite);e?t.spriteFrame=this.down_frames[this.currentIndex]:t.spriteFrame=this.frames[this.currentIndex];var n=this.getComponent(cc.BoxCollider);n.offset=cc.p(0,80),n.size=new cc.size(161,155)}},down:function(){this.bStart&&"die"!=this.currentState&&this.recieveDown&&"jumpDown"!=this.actionState&&"jumpUpFall"!=this.actionState&&"down"!=this.actionState&&"stayDown"!=this.actionState&&"jumpDown"!=this.actionState&&"jumpUp"!=this.actionState&&(this.recieveDown=!1,this.btnDown=!0,this.downPlay(!0),"stand"==this.actionState||"reverseDown"==this.actionState?this.actionState="down":"up"!=this.actionState&&"fall"!=this.actionState||(this.actionState="jumpDown"))},cancelDown:function(){this.bStart&&"die"!=this.currentState&&"fall"!=this.actionState&&"jumpUpFall"!=this.actionState&&"stand"!=this.actionState&&"reverseDown"!=this.actionState&&(this.btnDown=!1,this.downPlay(!1),"down"==this.actionState||"stayDown"==this.actionState?this.actionState="reverseDown":"jumpDown"==this.actionState?this.actionState="fall":"jumpUp"==this.actionState&&(this.actionState="jumpUpFall"),this.forwardSpeed=this.oldforwardSpeed)},up:function(){if(this.bStart&&"die"!=this.currentState)return this.recieveUp?void("fall"!=this.actionState&&"jumpDown"!=this.actionState&&"jumpUpFall"!=this.actionState&&"jumpUp"!=this.actionState&&(this.btnUp=!0,this.recieveUp=!1,"down"==this.actionState||"stayDown"==this.actionState?(this.actionState="jumpUp",this.getComponents(cc.AudioSource)[0].play()):"stand"!=this.actionState&&"reverseDown"!=this.actionState||(this.actionState="up",this.getComponents(cc.AudioSource)[0].play()))):void console.log("this.actionState = ",this.actionState)},cancelUp:function(){this.bStart&&"die"!=this.currentState&&"fall"!=this.actionState&&"down"!=this.actionState&&"reverseDown"!=this.actionState&&"stayDown"!=this.actionState&&"stand"!=this.actionState&&"jumpDown"!=this.actionState&&"jumpUpFall"!=this.actionState&&(this.btnUp=!1,"up"==this.actionState?this.actionState="fall":"jumpUp"==this.actionState&&(this.actionState="jumpUpFall"))},stand:function(){console.log("stand")},die:function(){window.player_died=!0,this.changeScore(),this.changeMoney(),this.currentState="die";var e=this.node.x,t=(this.node.y,cc.jumpTo(1,e+150,-600,450,1)),n=cc.rotateBy(.5,-77),o=cc.spawn(t,n),i=cc.sequence(o,cc.callFunc(function(){}));this.node.runAction(i),this.gameOver()},changeScore:function(){if(window.saveResult){var e=cc.loader.getXMLHttpRequest();e.open("GET","http://game.cqqigao.com/index.php?m=api&a=updatepoint&uid="+window.cq_sk_uid+"&point="+window.cq_sk_currentscore,!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(e.setRequestHeader("Accept-Charset","utf-8"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(e.overrideMimeType&&e.overrideMimeType("text/plain; charset=utf-8"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&console.log(e.response)},e.send(null)}},changeMoney:function(){if(window.saveResult){var e=cc.loader.getXMLHttpRequest();e.open("GET","http://game.cqqigao.com/index.php?m=api&a=updatemoney&uid="+window.cq_sk_uid+"&money="+window.cq_sk_currentmoney,!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(e.setRequestHeader("Accept-Charset","utf-8"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(e.overrideMimeType&&e.overrideMimeType("text/plain; charset=utf-8"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),e.onreadystatechange=function(){4==e.readyState&&200==e.status&&console.log(e.response)},e.send(null)}},gameOver:function(){cc.find("Canvas/gameover").getComponent("gameOver").gameOver()},_changeNextTexture:function(){var e=this.getComponent(cc.Sprite);e.spriteFrame=this.frames[this.currentIndex]},_changeNextDownTexture:function(){var e=this.getComponent(cc.Sprite);e.spriteFrame=this.down_frames[this.currentIndex]},update:function(e){this.playing&&(this.bStart&&!this.oldPosition&&(this.oldPosition=cc.p(this.node.x,this.node.y)),this.currentTime+=e),this.downPlaying&&(this.currentTime+=e)},reduceSpeed:function(){},addSpeed:function(){cc.find("Canvas/bgs1").getComponent("ScrollBg").setSpeed(-700),cc.find("Canvas/iceBg1").getComponent("ScrollBg").setSpeed(-900)},normalSpeed:function(){cc.find("Canvas/bgs1").getComponent("ScrollBg").setSpeed(-600),cc.find("Canvas/iceBg1").getComponent("ScrollBg").setSpeed(-800)},runUpAction:function(e){this.downSpeed=this.oldDownSpeed,this.forwardSpeed=this.oldforwardSpeed,this.reduceSpeed(),this.recieveDown=!0,this.getComponent("iceCreator").bCreating=!1,this.node.y+=this.upSpeed*this.upSpeed,this.upSpeed-=.2,this.node.rotation-=1.5,this.node.rotation<=-9&&(this.node.rotation=-9),this.upSpeed<=0&&(this.upSpeed=this.oldUpSpeed,this.actionState="fall")},runFallAction:function(e){this.upSpeed=this.oldUpSpeed,this.forwardSpeed=this.oldforwardSpeed,this.reduceSpeed(),this.recieveDown=!0,this.node.y-=this.downSpeed,this.downSpeed+=.8,this.node.rotation+=.7,this.getComponent("iceCreator").bCreating=!1;var t;if(this.node.x!=this.oldPosition.x){var n=this.node.x-this.oldPosition.x;t=this.oldPosition.y-Math.tan(18*Math.PI/360)*n}else t=this.oldPosition.y;this.node.y<=t&&(this.actionState="reverseDown",this.node.y=t,this.downSpeed=this.oldDownSpeed,9!=this.node.rotation&&(this.node.rotation=9))},runDownAction:function(e){this.downSpeed=this.oldDownSpeed,this.upSpeed=this.oldUpSpeed,this.recieveUp=!0,this.addSpeed(),this.getComponent("iceCreator").bCreating=!0;var t=0,n=this.oldPosition.y-Math.tan(18*Math.PI/360)*(t-this.oldPosition.x);return this.node.x==t&&this.node.y==n?void(this.actionState="stayDown"):(this.forwardSpeed>0?(this.node.x+=this.forwardSpeed,this.node.y-=Math.tan(18*Math.PI/360)*this.forwardSpeed,this.forwardSpeed-=1):this.actionState="stayDown",void(this.node.x>0&&(this.node.x=0,this.node.y=this.oldPosition.y-Math.tan(18*Math.PI/360)*(0-this.oldPosition.x),this.actionState="stayDown")))},runReverseDownAction:function(e){this.downSpeed=this.oldDownSpeed,this.upSpeed=this.oldUpSpeed,this.forwardSpeed=this.oldforwardSpeed,this.recieveDown=!0,this.recieveUp=!0,this.normalSpeed(),this.getComponent("iceCreator").bCreating=!0;var t=e*(-cc.find("Canvas/iceBg1").getComponent("ScrollBg").xSpeed-150),n=Math.tan(2*this.node.rotation*Math.PI/360)*t;this.node.x-=t,this.node.y+=n,this.node.x<this.oldPosition.x&&(this.node.x=this.oldPosition.x,this.node.y=this.oldPosition.y,this.actionState="stand")},runStayDown:function(e){this.upSpeed=this.oldUpSpeed,this.downSpeed=this.oldDownSpeed,this.forwardSpeed=this.oldforwardSpeed,this.recieveUp=!0,this.addSpeed(),this.getComponent("iceCreator").bCreating=!0,this.forwardSpeed=this.oldforwardSpeed},runJumpDown:function(e){this.upSpeed=this.oldUpSpeed,this.downSpeed=this.oldDownSpeed;var t=cc.p(-46,-125.4749431054743);if(!this.jumpDownStart){this.jumpDownStart=cc.p(this.node.x,this.node.y);var n=Math.abs(cc.pDistance(t,this.jumpDownStart));this.jumpDownDuration=n/this.jumpDownSpeed,this.oldJumpDownDuration=this.jumpDownDuration}this.addSpeed(),this.getComponent("iceCreator").bCreating=!1,9!=this.node.rotation&&(this.node.rotation+=2,this.node.rotation>9&&(this.node.rotation=9));var o,i=this.jumpDownDuration/this.oldJumpDownDuration;o=cc.pLerp(t,this.jumpDownStart,i),this.jumpDownDuration-=e,this.jumpDownDuration<0&&(this.jumpDownDuration=0),this.node.x=o.x,this.node.y=o.y,this.node.x>=t.x&&this.node.y<=t.y&&(this.jumpDownStart=null,this.node.rotation=9,this.node.x=t.x,this.node.y=t.y,this.btnDown?this.actionState="down":this.actionState="reverseDown")},runJumpUp:function(e){this.downSpeed=this.oldDownSpeed,this.forwardSpeed=this.oldforwardSpeed,this.addSpeed(),this.getComponent("iceCreator").bCreating=!1;var t=this.upSpeed*this.upSpeed,n=Math.tan(18*Math.PI/360)*t;this.node.y+=t,this.node.x+=n,this.upSpeed-=.19,this.node.rotation-=.8,this.node.rotation<=-9&&(this.node.rotation=-9),this.upSpeed<=0&&(this.upSpeed=this.oldUpSpeed,this.actionState="jumpUpFall")},runJumpUpFall:function(e){this.upSpeed=this.oldUpSpeed,this.forwardSpeed=this.oldforwardSpeed,this.addSpeed();var t=-46,n=this.oldPosition.y-Math.tan(18*Math.PI/360)*(t-this.oldPosition.x),o=this.downSpeed;Math.tan(18*Math.PI/360)*o;this.node.y-=o,this.node.x-=Math.tan(18*Math.PI/360)*o,this.downSpeed+=.8,this.node.rotation+=.7,this.node.rotation>9&&(this.node.rotation=9),this.getComponent("iceCreator").bCreating=!1,this.node.y<=n&&(this.btnDown?this.actionState="stayDown":this.actionState="reverseDown",this.node.y=n,this.downSpeed=this.oldDownSpeed,9!=this.node.rotation&&(this.node.rotation=9))},runStand:function(e){this.recieveDown=!0,this.recieveUp=!0,this.upSpeed=this.oldUpSpeed,this.downSpeed=this.oldDownSpeed,this.forwardSpeed=this.oldforwardSpeed,this.normalSpeed()},animate:function(e){if(this.currentTime>=this.duration)if(this.playing){var t=this.getComponent(cc.BoxCollider);t.offset=cc.p(0,95),t.size=new cc.size(161,190),this.currentIndex>=this.frames.length-1?this.currentIndex=0:this.currentIndex++,this._changeNextTexture(),this.currentTime=0}else if(this.downPlaying){var t=this.getComponent(cc.BoxCollider);t.offset=cc.p(0,80),t.size=new cc.size(161,155),this.currentIndex>=this.down_frames.length-1?this.currentIndex=0:this.currentIndex++,this._changeNextDownTexture(),this.currentTime=0}},lateUpdate:function(e){if(this.bStart&&"die"!=this.currentState){switch("jumpDown"!=this.actionState&&this.jumpDownStart&&(this.jumpDownStart=null),this.actionState){case"up":this.runUpAction(e);break;case"fall":this.runFallAction(e);break;case"down":this.runDownAction(e);break;case"stayDown":this.runStayDown(e);break;case"reverseDown":this.runReverseDownAction(e);break;case"jumpDown":this.runJumpDown(e);break;case"jumpUp":this.runJumpUp(e);break;case"jumpUpFall":this.runJumpUpFall(e);break;case"stand":this.runStand(e)}return void this.animate(e)}},onCollisionEnter:function(e,t){"die"!=this.currentState&&(99===e.tag&&this.die(),88===e.tag&&(this.onGround=!0))}}),cc._RFpop()},{}],RMBRandom:[function(e,t,n){"use strict";cc._RFpush(t,"03eeeI6eopHrJa4AjdwBTM4","RMBRandom"),cc.Class({"extends":cc.Component,properties:{image:cc.SpriteFrame,showValue:10},onLoad:function(){return}}),cc._RFpop()},{}],RandomGoldPos:[function(e,t,n){"use strict";cc._RFpush(t,"de8b3EltkxFkJpnAyqhijrW","RandomGoldPos"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){return Math.random()>.6?void this.node.destroy():void(this.node.y=-100+300*Math.random())}}),cc._RFpop()},{}],RankClick:[function(e,t,n){"use strict";cc._RFpush(t,"e0569931+5C0IgB3wfgCcsp","RankClick"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onClick:function(){return void this.getComponent(cc.AudioSource).play()},update:function(e){}}),cc._RFpop()},{}],Score:[function(e,t,n){"use strict";cc._RFpush(t,"9e5d7RyutlO5qg0xMQUjQTk","Score"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.getComponent(cc.Label).string=window.cq_sk_score}}),cc._RFpop()},{}],ScrollBg:[function(e,t,n){"use strict";cc._RFpush(t,"dae24d/DRNLrqwSpnGJlNUH","ScrollBg"),cc.Class({"extends":cc.Component,properties:{speed:600,width:0,height:0,distanceDelta:10,endPos:cc.p(0,0),preNode:cc.Node,bCreateReward:!1,reward0:cc.Prefab,reward1:cc.Prefab,block:cc.Prefab,ice:cc.Prefab,xSpeed:600,image:cc.SpriteFrame,imagePrefab:cc.Prefab,rewards:[cc.Prefab],allReward:cc.Prefab},onLoad:function(){this.tempRewards=[],this.tempBlocks=[],this.imageList=[],this.nextBlock=3,this._initTexture()},_initTexture:function(){var e=this;if(this.image||this.imagePrefab){var t,n;if(this.image?(n=this.image.getRect().width,t=this.image.getRect().height):(n=this.imagePrefab.data.width,t=this.imagePrefab.data.height),0==e.xSpeed){var o=new cc.Sprite(this.image);return n=o.width,t=o.height,void this.node.addChild(o)}var i=cc.director.getWinSize();if(0!=e.xSpeed)for(var c=Math.ceil(2*i.width/n),s=0;s<c;s++){var a;if(this.imagePrefab)a=cc.instantiate(this.imagePrefab);else{a=new cc.Node("sprite "+s);var r=a.addComponent(cc.Sprite);r.spriteFrame=this.image}a.parent=this.node,a.setPosition(0,0),a.anchorX=0,a.anchorY=0;var d={obj:a,x:e.xSpeed>0?-s*n:s*n,times:c};e.imageList.push(d),a.x=d.x,a.y=0}}},setSpeed:function(e){this.xSpeed=e},update:function(e){if(0!=this.xSpeed&&(this.image||this.imagePrefab)){var t,n,o=cc.director.getWinSize();this.image?(t=this.image.getRect().width,n=this.image.getRect().height):(t=this.imagePrefab.data.width,n=this.imagePrefab.data.height);for(var i=0;i<this.imageList.length;i++){var c=this.imageList[i],s=c.x+e*this.xSpeed,a=this.node.convertToWorldSpace({x:s,y:0});c.x=s,c.y=0,c.obj.x=s,c.obj.y=0,this.xSpeed>0&&a.x>o.width+t?(c.x=c.x-t*c.times,i%4==0&&(this.StartCreateReward=!0),this.nextBlock--):this.xSpeed<0&&a.x<-t&&(c.x=c.x+t*c.times,i%4==0&&(this.StartCreateReward=!0),this.nextBlock--)}return}},lateUpdate:function(e){if(this.block&&this.nextBlock<=0){this.nextBlock=2+Math.floor(4*Math.random());for(var t,n=this.getComponent("blockCreator").getBlock(),o=0;o<n.index;o++)if(1==n.type)t=cc.instantiate(this.block),t.x=n.x+Math.tan(18*Math.PI/360)*o*83,t.y=n.y+83*o,t.parent=cc.find("Canvas");else if(2==n.type){t=cc.instantiate(this.ice),t.x=1336,t.y=-280,t.parent=cc.find("Canvas");break}}return void(this.StartCreateReward&&this.allReward&&(this.StartCreateReward=!1,i=cc.instantiate(this.allReward),i.x=1136,i.y=-100,i.parent=cc.find("Canvas")));var i,t,n,o}}),cc._RFpop()},{}],Sound:[function(e,t,n){"use strict";cc._RFpush(t,"f836aNIXHFJP5sBwucKnBxs","Sound"),cc.Class({"extends":cc.Component,properties:{checked:cc.SpriteFrame,notchecked:cc.SpriteFrame,isChecked:!0},onLoad:function(){var e=this;e.boxCollider=e.getComponent(cc.BoxCollider),cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,n){var o=t.getLocation();return cc.Intersection.pointInPolygon(o,e.boxCollider.world.points)&&e.checkClick(),!0},onTouchEnded:function(e,t){return!0}},this.node)},checkClick:function(){this.getComponent(cc.AudioSource).play(),this.isChecked=!this.isChecked,this.isChecked?(this.getComponent(cc.Sprite).spriteFrame=this.checked,cc.find("Canvas/music").getComponent(cc.AudioSource).resume()):(this.getComponent(cc.Sprite).spriteFrame=this.notchecked,cc.find("Canvas/music").getComponent(cc.AudioSource).pause())}}),cc._RFpop()},{}],WeChatShare:[function(e,t,n){"use strict";function o(e,t,n){var i=window.location.href.split("#")[0],c=o.prototype.GetRequest(),s=window.location.origin+"/op/gameDetail?id="+(c.id||c.gameID),a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP");a.open("POST","/op/gfstore/webapi/WECHAT_SIGNATURE"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),a.send("appid=wxbec54c6de1b206e1&secret=662d55a3ad5a7d5c709c8eab88cda381&url="+i),a.onreadystatechange=function(){a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var i=a.responseText,c=JSON.parse(i);if("ok"==c.state){var r=c.data;o.prototype.sharePopUp(e,t,n),cc.director.pause(),wx.config({debug:!1,appId:r.appid,timestamp:r.timeStamp,nonceStr:r.nonceStr,signature:r.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),wx.onMenuShareTimeline({title:e,link:s,imgUrl:n,success:function(){cc.director.resume()},cancel:function(){cc.director.resume()}}),wx.onMenuShareAppMessage({title:e,desc:t,link:s,imgUrl:n,success:function(){cc.director.resume()},cancel:function(){cc.director.resume()}}),wx.error(function(e){console.log("res",e)})}}}}}cc._RFpush(t,"a1c4352WhFOoKSQQd+f0tlE","WeChatShare"),o.prototype.sharePopUp=function(e,t,n){var o=document.createElement("div");o.className="sharePopUp";var i=document.createElement("img");i.src="http://res.720wan.com/GameStore/res/img/share.png",i.className="shareMsgImg",i.id="shareMsgImg",o.appendChild(i);var c=document.createElement("div");c.className="shareCont",c.id="shareCont";var s=document.createElement("h3");s.id="shareTit",s.innerHTML=e,c.appendChild(s);var a=document.createElement("img");a.id="shareImg",a.src=n,c.appendChild(a);var r=document.createElement("p");r.id="shareDes",r.innerHTML=t,c.appendChild(r),o.appendChild(c),document.body.appendChild(o)},o.prototype.GetRequest=function(){var e=window.location.search,t=new Object;if(e.indexOf("?")!=-1)for(var n=e.substr(1),o=n.split("&"),i=0;i<o.length;i++)t[o[i].split("=")[0]]=o[i].split("=")[1];return t},cc._RFpop()},{}],backtomenu:[function(e,t,n){"use strict";cc._RFpush(t,"72d78ewxJtIM6MYmX1kRKg5","backtomenu"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},backScene:function(){this.getComponent(cc.AudioSource).play(),cc.director.preloadScene("loading",function(){cc.director.loadScene("loading")})}}),cc._RFpop()},{}],bitAction:[function(e,t,n){"use strict";cc._RFpush(t,"fe1ceo9gbZBib84yGfOnKUr","bitAction"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},run:function(){var e=.14,t=-100+Math.random()*-150,n=0+10*Math.random(),o=10+20*Math.random(),i=-90+Math.random()*-180,c=new cc.jumpBy(e,t,n,o,1),s=new cc.rotateBy(e,i),a=cc.spawn(c,s),r=new cc.removeSelf((!0)),d=cc.sequence(a,r);this.node.runAction(d)}}),cc._RFpop()},{}],blackCover:[function(e,t,n){"use strict";cc._RFpush(t,"feaf88gNihHpagJtnN89nsU","blackCover"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},update:function(e){window.showTextureOK&&(this.node.active=!1)}}),cc._RFpop()},{}],blockCollision:[function(e,t,n){"use strict";cc._RFpush(t,"f904ebmqZdEv7gj8RafAEvO","blockCollision"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},onCollisionEnter:function(e,t){"die"!=this.currentState&&99===t.tag&&this.getComponent("Animate").play()}}),cc._RFpop()},{}],blockCreator:[function(e,t,n){"use strict";cc._RFpush(t,"2fdea0SoNlF2ofAavFI3uxs","blockCreator"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},getBlock:function(){var e,t=[-120,-302],n=t[Math.floor(3*Math.random())];e=window.cq_sk_currentscore>100?Math.random()>.2?1:2:window.cq_sk_currentscore>200?Math.random()>.4?1:2:window.cq_sk_currentscore>300?Math.random()>.6?1:2:1;var o={x:1336,y:n,type:e};return n==-302?o.index=1+Math.floor(2*Math.random()):o.index=1+Math.floor(4*Math.random()),o}}),cc._RFpop()},{}],btnTouch:[function(e,t,n){"use strict";cc._RFpush(t,"a7ffbXKsHJIPL9aqHH7OS8s","btnTouch"),cc.Class({"extends":cc.Component,properties:{touchType:1},onLoad:function(){var e=this,t=this;t.player=cc.find("Canvas/player"),t.boxCollider=t.getComponent(cc.BoxCollider),t.bTouched=!1,cc.eventManager.addListener({event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(n,o){var i=n.getLocation();return cc.Intersection.pointInPolygon(i,e.boxCollider.world.points)&&(t.bTouched=!0,t.node.opacity=255),!0},onTouchEnded:function(n,o){var i=n.getLocation();return cc.Intersection.pointInPolygon(i,e.boxCollider.world.points)&&(t.bTouched=!1,t.node.opacity=128,t.cancelState()),!0}},this.node)},cancelState:function(){1==this.touchType?this.player.getComponent("Player").cancelDown():2==this.touchType&&this.player.getComponent("Player").cancelUp()},touchDown:function(){1==this.touchType?this.player.getComponent("Player").down():2==this.touchType&&this.player.getComponent("Player").up()},update:function(e){this.bTouched&&(1==this.touchType?this.player.getComponent("Player").down():2==this.touchType&&this.player.getComponent("Player").up())}}),cc._RFpop()},{}],gameOver:[function(e,t,n){"use strict";cc._RFpush(t,"3d1f4RasENAEbejQEnfJaF9","gameOver"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.node.opacity=0},gameOver:function(){var e=this;this.node.opacity=255;var t=cc.scaleTo(1,1.5,1.5),n=cc.scaleTo(1,.1,.1),o=cc.sequence(t,n,cc.callFunc(function(){e.node.opacity=0,cc.director.preloadScene("endgame",function(){cc.director.loadScene("endgame")})}));this.node.runAction(o)}}),cc._RFpop()},{}],getGoldNumber:[function(e,t,n){"use strict";cc._RFpush(t,"33915LgnKxIjY8uI5x1eMLL","getGoldNumber"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.getComponent(cc.Label).string=window.cq_sk_currentscore}}),cc._RFpop()},{}],getRMBNumber:[function(e,t,n){"use strict";cc._RFpush(t,"9ad51CKRixC+oTzQZznnlOz","getRMBNumber"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.getComponent(cc.Label).string=window.cq_sk_currentmoney/100}}),cc._RFpop()},{}],getRedBag:[function(e,t,n){"use strict";cc._RFpush(t,"4a247F38GlGNa2oSDxy0OnD","getRedBag"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var e=this,t=cc.loader.getXMLHttpRequest();t.open("GET","http://game.cqqigao.com/index.php?m=api&a=getRedPack&uid="+window.cq_sk_uid,!0),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?(t.setRequestHeader("Accept-Charset","utf-8"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):(t.overrideMimeType&&t.overrideMimeType("text/plain; charset=utf-8"),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status)try{if(t.response&&"null"!=t.response){var n=JSON.parse(t.response);n.redmoney>0?e.getComponent(cc.Label).string="恭喜获得红包"+n.redmoney/100+"元，请到公众号查看":e.getComponent(cc.Label).string="红包离你不远啦，加油！"}else;}catch(o){console.log("net error: ",o.stack)}},t.send(null)}}),cc._RFpop()},{}],haveTime:[function(e,t,n){"use strict";cc._RFpush(t,"a5e43XOz3VO4JQGJOHNV5kQ","haveTime"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.getComponent(cc.Label).string=window.cq_sk_havetime<0?0:window.cq_sk_havetime}}),cc._RFpop()},{}],iceCreator:[function(e,t,n){"use strict";cc._RFpush(t,"0227bgG8rBL3LnIN52Bv5fM","iceCreator"),cc.Class({"extends":cc.Component,properties:{bCreating:!1,minDuration:.3,maxDuration:.8,icePrefab:cc.Prefab},onLoad:function(){this.currentDuration=0,this.getNextDuration()},getNextDuration:function(){this.nextDuration=this.minDuration+Math.random()*this.maxDuration},lateUpdate:function(e){if(this.bCreating&&(this.currentDuration+=e,this.currentDuration>=this.nextDuration)){var t=cc.instantiate(this.icePrefab);t.x+=-10+20*Math.random(),t.y+=-10+20*Math.random(),t.parent=this.node,t.getComponent("bitAction").run(),this.currentDuration=0,this.getNextDuration()}}}),cc._RFpop()},{}],iceball:[function(e,t,n){"use strict";cc._RFpush(t,"1abfd2XjwBLZZQ7YvVGw53h","iceball"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.upSpeed=-550;var e=cc.jumpBy(1,0,0,100,2),t=cc.rotateBy(1,360),n=cc.spawn(e,t),o=cc.repeatForever(n);this.node.runAction(o)},lateUpdate:function(e){var t=cc.find("Canvas/iceBg1").getComponent("ScrollBg").xSpeed+150,n=e*t;this.node.x+=n,this.node.y-=Math.tan(18*Math.PI/360)*n}}),cc._RFpop()},{}],keybordEvent:[function(e,t,n){"use strict";cc._RFpush(t,"acde3qdXxpMnqAMR3cn2Qsq","keybordEvent"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var e=cc.find("Canvas/player"),t={event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,n){t==cc.KEY.up&&e.getComponent("Player").up(),
t==cc.KEY.down&&e.getComponent("Player").down()},onKeyReleased:function(t,n){t==cc.KEY.up&&e.getComponent("Player").cancelUp(),t==cc.KEY.down&&e.getComponent("Player").cancelDown()}};cc.eventManager.addListener(t,this.node)}}),cc._RFpop()},{}],returnLogin:[function(e,t,n){"use strict";cc._RFpush(t,"47bcfAUxq1EX7fkPSbPahHY","returnLogin"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},returnLogin:function(){cc.director.preloadScene("loading",function(){cc.director.resume(),cc.director.loadScene("loading")})}}),cc._RFpop()},{}],rewardCollision:[function(e,t,n){"use strict";cc._RFpush(t,"1ae684yYAdMlq7IaNG/X/Dt","rewardCollision"),cc.Class({"extends":cc.Component,properties:{tag:""},onLoad:function(){this.scoreLabel=cc.find("Canvas/score").getComponent(cc.Label)},onCollisionEnter:function(e,t){if(!window.player_died)if("gold"==this.tag){this.getComponents("Animate")[0].stop(),this.getComponents("Animate")[1].play();var n=this.scoreLabel.string;n=parseInt(n)+1,window.cq_sk_currentscore++,this.scoreLabel.string=n,this.getComponent(cc.AudioSource).play()}else"rmb_0_0_1"==this.tag&&(window.cq_sk_currentmoney+=1,this.getComponent(cc.AudioSource).play(),this.node.destroy())}}),cc._RFpop()},{}],rewardCreator:[function(e,t,n){"use strict";cc._RFpush(t,"534dersi1RJkb5uUUUWyBC3","rewardCreator"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.wave=[[{x:50,y:570,type:0},{x:110,y:570,type:0},{x:170,y:570,type:0},{x:230,y:570,type:0},{x:290,y:570,type:0},{x:390,y:570,type:0},{x:450,y:630,type:0},{x:510,y:690,type:0},{x:390,y:690,type:0}],[{x:50,y:570,type:0},{x:110,y:570,type:0},{x:170,y:570,type:0},{x:230,y:570,type:0},{x:290,y:570,type:0}]]},getReward:function(){return this.wave[0+Math.floor(Math.random()*this.wave.length)]}}),cc._RFpop()},{}],rewardMove:[function(e,t,n){"use strict";cc._RFpush(t,"0a455lnwnVP0qgyFl8OAJC3","rewardMove"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},update:function(e){var t=e*cc.find("Canvas/iceBg1").getComponent("ScrollBg").xSpeed;this.node.x+=t,this.node.y-=Math.tan(18*Math.PI/360)*t},lateUpdate:function(e){this.node.x<=-2672&&this.node.destroy()}}),cc._RFpop()},{}]},{},["RMBRandom","iceCreator","rewardMove","HeadPic","Animate","iceball","rewardCollision","HelloWorld","blockCreator","getGoldNumber","gameOver","returnLogin","getRedBag","rewardCreator","backtomenu","Pause","CollisionDetect","getRMBNumber","Score","haveTime","WeChatShare","btnTouch","keybordEvent","Player","Login","ScrollBg","Name","RandomGoldPos","RankClick","Sound","blockCollision","bitAction","blackCover","PlayGame"]);